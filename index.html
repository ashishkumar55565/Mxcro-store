<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MXCRO STORE - OFFICIAL</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;700;900&display=swap');
        
        body { 
            font-family: 'Outfit', sans-serif; 
            background: #000; 
            color: #fff; 
            margin: 0; 
            padding: 0;
            user-select: none;
            overflow-x: hidden;
        }

        .glass-card {
            background: rgba(18, 18, 18, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 30px;
        }

        /* Hidden Host Setting Logo (Secret Dot) */
        .host-trigger {
            position: fixed;
            top: 12px;
            right: 12px;
            width: 15px;
            height: 15px;
            background: #1a0000;
            border-radius: 50%;
            z-index: 9999;
            cursor: pointer;
        }

        /* Locked/Blur Effect */
        .locked-content {
            filter: blur(25px);
            opacity: 0.1;
            pointer-events: none;
            transition: all 0.7s ease;
            transform: scale(0.98);
        }

        .unlocked-content {
            filter: blur(0) !important;
            opacity: 1 !important;
            pointer-events: auto !important;
            transform: scale(1) !important;
        }

        /* App Profile Card Style */
        .app-card {
            background: linear-gradient(145deg, #0f0f0f, #181818);
            border: 1px solid #222;
            border-radius: 26px;
            transition: transform 0.2s, border-color 0.3s;
        }

        .app-card:active {
            transform: scale(0.96);
            border-color: #dc2626;
        }

        .modal {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.98);
            z-index: 10000;
            align-items: center;
            justify-content: center;
            padding: 24px;
        }

        input {
            background: #111 !important;
            border: 1px solid #333 !important;
            color: #fff !important;
            padding: 16px;
            border-radius: 18px;
            width: 100%;
            outline: none;
        }

        /* Scrollbar hide */
        ::-webkit-scrollbar {
            display: none;
        }
    </style>
</head>
<body class="pb-24">

    <!-- Secret Host Button (Sirf aapke liye) -->
    <div class="host-trigger" onclick="openLogin()"></div>

    <div id="mainUI">
        <!-- Brand Header -->
        <header class="text-center pt-14 pb-8">
            <h1 class="text-6xl font-black italic tracking-tighter text-red-600 uppercase">MXCRO STORE</h1>
            <p class="text-zinc-600 text-[9px] tracking-[6px] font-bold uppercase mt-2">Verified Premium Cloud</p>
        </header>

        <!-- Verification Steps Section -->
        <section id="verifySection" class="max-w-md mx-auto px-6 mb-12">
            <div class="glass-card p-8 border border-red-900/30">
                <p class="text-center text-[10px] font-black uppercase text-red-500 mb-8 tracking-widest">Verification Steps</p>
                <div class="space-y-4">
                    <!-- Ashish Jaiswal Link -->
                    <a href="https://www.instagram.com/_ashish_jaiswal007?igsh=dGNxbXI3MWZ1dGo0" target="_blank" onclick="vUpdate(1)" class="flex items-center justify-between p-4 bg-zinc-900 rounded-2xl border border-zinc-800 hover:border-pink-600 transition-all">
                        <div class="flex items-center gap-3">
                            <i class="fab fa-instagram text-2xl text-pink-600"></i>
                            <span class="font-bold text-sm">@_ashish_jaiswal007</span>
                        </div>
                        <i id="tick1" class="fas fa-check-circle text-zinc-900"></i>
                    </a>
                    <!-- Mxcro Editzz Link -->
                    <a href="https://www.instagram.com/mxcro_editzz07" target="_blank" onclick="vUpdate(2)" class="flex items-center justify-between p-4 bg-zinc-900 rounded-2xl border border-zinc-800 hover:border-pink-600 transition-all">
                        <div class="flex items-center gap-3">
                            <i class="fab fa-instagram text-2xl text-pink-600"></i>
                            <span class="font-bold text-sm">@mxcro_editzz07</span>
                        </div>
                        <i id="tick2" class="fas fa-check-circle text-zinc-900"></i>
                    </a>
                </div>
                <div id="loadingBar" class="hidden mt-8">
                    <div class="w-full bg-zinc-900 h-1.5 rounded-full overflow-hidden">
                        <div id="barFill" class="bg-red-600 h-full w-0 transition-all duration-[3000ms]"></div>
                    </div>
                </div>
                <button id="unlockBtn" onclick="unlockNow()" class="hidden w-full mt-8 py-5 bg-white text-black font-black uppercase rounded-2xl text-sm shadow-xl hover:scale-105 active:scale-95 transition-all">Unlock Premium Mods</button>
            </div>
        </section>

        <!-- List Heading -->
        <div class="max-w-md mx-auto px-8 mb-6 flex justify-between items-center">
            <h2 class="text-[11px] font-black uppercase tracking-[4px] text-zinc-500">Premium Apps (<span id="count">0</span>)</h2>
        </div>

        <!-- Apps Container (Initial State is Blurred) -->
        <main id="appsContainer" class="max-w-md mx-auto px-6 space-y-5 locked-content">
            <!-- JavaScript will render the 22 apps here -->
        </main>
    </div>

    <!-- Master Key Login Modal -->
    <div id="loginModal" class="modal">
        <div class="glass-card p-10 w-full max-w-sm">
            <h2 class="text-2xl font-black text-center mb-8 uppercase italic">Host Login</h2>
            <input type="password" id="passInput" placeholder="Enter Host Key" class="text-center mb-6">
            <div class="flex gap-3">
                <button onclick="closeLogin()" class="flex-1 py-4 bg-zinc-900 rounded-2xl font-bold text-xs uppercase">Back</button>
                <button onclick="checkPass()" class="flex-1 py-4 bg-red-600 rounded-2xl font-bold text-xs uppercase">Access</button>
            </div>
        </div>
    </div>

    <!-- Host Admin Panel -->
    <div id="adminPanel" class="hidden fixed inset-0 bg-black z-[10001] overflow-y-auto p-6">
        <div class="flex items-center justify-between border-b border-zinc-900 pb-6 mb-8 sticky top-0 bg-black pt-2">
            <h2 class="text-3xl font-black italic text-red-600 tracking-tighter uppercase">Editor</h2>
            <button onclick="syncCloud()" id="syncBtn" class="bg-green-600 px-8 py-3 rounded-2xl font-black text-[11px] uppercase tracking-widest shadow-lg shadow-green-900/40">Sync to Cloud</button>
        </div>
        <div id="editorSpace" class="space-y-4"></div>
        <button onclick="location.reload()" class="w-full mt-10 py-5 bg-zinc-900 rounded-3xl font-black text-xs uppercase tracking-widest border border-zinc-800">Exit Editor</button>
    </div>

    <script type="module">
        // Firebase Imports
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getFirestore, doc, setDoc, onSnapshot } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";

        // Firebase Configuration (Provided by environment)
        const firebaseConfig = JSON.parse(__firebase_config);
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'mxcostore_github_v1';

        // 22 Premium Apps Master Data
        let storeApps = [
            { name: "Capcut Premium", icon: "ðŸŽ¬", link: "https://arolinks.com/o2fQtg" },
            { name: "Alight Motion Pro", icon: "ðŸ’Ž", link: "https://go.arlinks.in/4gxW4XTy" },
            { name: "Netflix Mod", icon: "ðŸ¿", link: "https://go.arlinks.in/AqAvmSA" },
            { name: "Spotify Ad-Free", icon: "ðŸŽµ", link: "https://arolinks.com/LBUrJ" },
            { name: "PicsArt Gold", icon: "ðŸŽ¨", link: "https://example.com" },
            { name: "Kinemaster Pro", icon: "ðŸŽžï¸", link: "https://example.com" },
            { name: "VN Editor Mod", icon: "âœ‚ï¸", link: "https://example.com" },
            { name: "InShot Pro", icon: "ðŸ“¹", link: "https://example.com" },
            { name: "Lightroom Mod", icon: "ðŸ“¸", link: "https://example.com" },
            { name: "Canva Premium", icon: "ðŸ–Œï¸", link: "https://example.com" },
            { name: "Remini Premium", icon: "âœ¨", link: "https://example.com" },
            { name: "Truecaller Gold", icon: "ðŸ“ž", link: "https://example.com" },
            { name: "VPN Master Pro", icon: "ðŸŒ", link: "https://example.com" },
            { name: "YouTube Vanced", icon: "ðŸ“º", link: "https://example.com" },
            { name: "Prime Video Mod", icon: "ðŸ“¦", link: "https://example.com" },
            { name: "Disney+ Mod", icon: "ðŸ°", link: "https://example.com" },
            { name: "Zarchiver Pro", icon: "ðŸ“‚", link: "https://example.com" },
            { name: "VivaCut Pro", icon: "ðŸŒŒ", link: "https://example.com" },
            { name: "PowerDirector", icon: "ðŸŽžï¸", link: "https://example.com" },
            { name: "Pixellab Mod", icon: "ðŸ“", link: "https://example.com" },
            { name: "FilmoraGo Pro", icon: "ðŸ“¼", link: "https://example.com" },
            { name: "Intro Maker Mod", icon: "ðŸŽ¬", link: "https://example.com" }
        ];

        const MASTER_PASS = "ashishjaiswal8252568155";
        let step1 = false, step2 = false;

        // Sync Data with Firestore
        onAuthStateChanged(auth, async (user) => {
            if (user) {
                const docRef = doc(db, 'artifacts', appId, 'public', 'data', 'store_data');
                onSnapshot(docRef, (snap) => {
                    if(snap.exists()) storeApps = snap.data().list || storeApps;
                    renderApps();
                });
            } else {
                await signInAnonymously(auth);
            }
        });

        // Function to render apps list
        function renderApps() {
            const container = document.getElementById('appsContainer');
            document.getElementById('count').innerText = storeApps.length;
            container.innerHTML = storeApps.map((app, idx) => `
                <div class="app-card p-5 flex items-center justify-between shadow-lg">
                    <div class="flex items-center gap-5">
                        <div class="w-16 h-16 bg-black rounded-[22px] border border-zinc-800 flex items-center justify-center text-3xl shadow-inner">${app.icon}</div>
                        <div>
                            <h4 class="font-black text-[14px] text-white tracking-tight">${app.name}</h4>
                            <p class="text-[9px] text-red-600 font-bold uppercase tracking-[2px] mt-1">Unlocked Premium</p>
                        </div>
                    </div>
                    <a href="${app.link}" target="_blank" class="bg-red-600 px-8 py-3 rounded-2xl text-[10px] font-black uppercase tracking-tighter shadow-lg shadow-red-900/30">Get Mod</a>
                </div>
            `).join('');
        }

        // Verification Logic
        window.vUpdate = (n) => {
            if(n === 1) { step1 = true; document.getElementById('tick1').className = "fas fa-check-circle text-green-500"; }
            if(n === 2) { step2 = true; document.getElementById('tick2').className = "fas fa-check-circle text-green-500"; }
            if(step1 && step2) {
                document.getElementById('loadingBar').classList.remove('hidden');
                setTimeout(() => document.getElementById('barFill').style.width = '100%', 100);
                setTimeout(() => document.getElementById('unlockBtn').classList.remove('hidden'), 3100);
            }
        };

        window.unlockNow = () => {
            document.getElementById('appsContainer').classList.add('unlocked-content');
            document.getElementById('verifySection').innerHTML = `
                <div class="text-center py-4 bg-green-900/10 border border-green-500/20 rounded-3xl">
                    <span class="text-green-500 font-black text-[10px] uppercase tracking-widest animate-pulse">âœ“ Store Unlocked â€¢ Enjoy Premium Mods</span>
                </div>
            `;
        };

        // Host Control System
        window.openLogin = () => document.getElementById('loginModal').style.display = 'flex';
        window.closeLogin = () => document.getElementById('loginModal').style.display = 'none';
        window.checkPass = () => {
            if(document.getElementById('passInput').value === MASTER_PASS) {
                closeLogin();
                document.getElementById('adminPanel').style.display = 'block';
                document.getElementById('appsContainer').classList.add('unlocked-content');
                loadEditor();
            } else alert("Invalid Master Key!");
        };

        function loadEditor() {
            const space = document.getElementById('editorSpace');
            space.innerHTML = storeApps.map((app, i) => `
                <div class="glass-card p-6 space-y-4">
                    <p class="text-[9px] font-bold text-red-600 uppercase">App Slot #${i+1}</p>
                    <div class="flex gap-3">
                        <input type="text" id="icon-${i}" value="${app.icon}" class="w-20 text-center text-xl">
                        <input type="text" id="name-${i}" value="${app.name}" class="flex-1 font-bold">
                    </div>
                    <input type="text" id="link-${i}" value="${app.link}" class="text-xs text-blue-400 font-mono">
                </div>
            `).join('');
        }

        window.syncCloud = async () => {
            const btn = document.getElementById('syncBtn');
            btn.innerText = "WAITING...";
            const newList = storeApps.map((_, i) => ({
                icon: document.getElementById(`icon-${i}`).value,
                name: document.getElementById(`name-${i}`).value,
                link: document.getElementById(`link-${i}`).value
            }));
            try {
                await setDoc(doc(db, 'artifacts', appId, 'public', 'data', 'store_data'), { list: newList });
                btn.innerText = "SYNC SUCCESS!";
                setTimeout(() => btn.innerText = "Sync to Cloud", 2000);
            } catch(e) { 
                alert("Cloud Error: " + e.message); 
                btn.innerText = "Sync to Cloud"; 
            }
        };

    </script>
</body>
</html>
